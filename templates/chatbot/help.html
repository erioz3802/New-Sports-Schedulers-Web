{% extends "base.html" %}

{% block title %}Chat Help - Sports Scheduler{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1><i class="bi bi-chat-dots me-2"></i>Chat with Susan - Help Guide</h1>
            <button id="openChatDemo" class="btn btn-primary">
                <i class="bi bi-chat-fill me-1"></i>Try Chat Now
            </button>
        </div>
    </div>
</div>

<!-- Introduction -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card border-0 shadow-sm">
            <div class="card-body">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h4><i class="bi bi-robot me-2 text-primary"></i>Meet Susan, Your AI Assistant</h4>
                        <p class="lead mb-0">
                            Susan is your intelligent Sports Scheduler assistant, available 24/7 to help you navigate the system, 
                            answer questions, and guide you through tasks based on your role and permissions.
                        </p>
                    </div>
                    <div class="col-md-4 text-center">
                        <div class="chat-avatar-large">
                            <i class="bi bi-robot"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Features Overview -->
<div class="row mb-4">
    <div class="col-md-6">
        <div class="card border-0 shadow-sm h-100">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0"><i class="bi bi-magic me-2"></i>Smart Features</h5>
            </div>
            <div class="card-body">
                <ul class="list-unstyled">
                    <li class="mb-3">
                        <i class="bi bi-person-check text-success me-2"></i>
                        <strong>Role-Aware:</strong> Provides answers based on your permissions and role
                    </li>
                    <li class="mb-3">
                        <i class="bi bi-lightning text-warning me-2"></i>
                        <strong>Context-Smart:</strong> Understands what you're asking about
                    </li>
                    <li class="mb-3">
                        <i class="bi bi-clock text-info me-2"></i>
                        <strong>24/7 Available:</strong> Get help anytime, day or night
                    </li>
                    <li class="mb-3">
                        <i class="bi bi-arrow-right text-primary me-2"></i>
                        <strong>Action-Oriented:</strong> Provides step-by-step guidance
                    </li>
                    <li class="mb-0">
                        <i class="bi bi-chat-quote text-secondary me-2"></i>
                        <strong>Natural Language:</strong> Ask questions in plain English
                    </li>
                </ul>
            </div>
        </div>
    </div>
    
    <div class="col-md-6">
        <div class="card border-0 shadow-sm h-100">
            <div class="card-header bg-success text-white">
                <h5 class="mb-0"><i class="bi bi-question-circle me-2"></i>What Susan Can Help With</h5>
            </div>
            <div class="card-body">
                <ul class="list-unstyled">
                    <li class="mb-2"><i class="bi bi-check2 text-success me-2"></i>Navigation and finding features</li>
                    <li class="mb-2"><i class="bi bi-check2 text-success me-2"></i>Step-by-step how-to guides</li>
                    <li class="mb-2"><i class="bi bi-check2 text-success me-2"></i>Understanding system workflows</li>
                    <li class="mb-2"><i class="bi bi-check2 text-success me-2"></i>Troubleshooting common issues</li>
                    <li class="mb-2"><i class="bi bi-check2 text-success me-2"></i>Role and permission explanations</li>
                    <li class="mb-2"><i class="bi bi-check2 text-success me-2"></i>Feature explanations and tips</li>
                    <li class="mb-0"><i class="bi bi-check2 text-success me-2"></i>Quick answers to common questions</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- How to Use -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card border-0 shadow-sm">
            <div class="card-header bg-info text-white">
                <h5 class="mb-0"><i class="bi bi-chat-square-text me-2"></i>How to Chat with Susan</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6><i class="bi bi-1-circle text-primary me-2"></i>Open the Chat</h6>
                        <p>Click the <span class="badge bg-primary rounded-pill"><i class="bi bi-chat-dots-fill"></i></span> button in the bottom-right corner of any page.</p>
                        
                        <h6><i class="bi bi-2-circle text-primary me-2"></i>Ask Your Question</h6>
                        <p>Type your question in natural language. Susan understands context and your role.</p>
                        
                        <h6><i class="bi bi-3-circle text-primary me-2"></i>Get Smart Answers</h6>
                        <p>Receive personalized, actionable guidance with step-by-step instructions.</p>
                    </div>
                    <div class="col-md-6">
                        <div class="bg-light p-3 rounded">
                            <h6>ðŸ’¡ <strong>Pro Tips:</strong></h6>
                            <ul class="small mb-0">
                                <li>Be specific: "How do I add a game?" vs "games"</li>
                                <li>Use the suggested quick replies for common tasks</li>
                                <li>Ask follow-up questions for more detail</li>
                                <li>Say "help" to see what Susan can do for your role</li>
                                <li>Use keywords like "how to", "where is", "show me"</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Role-Specific Examples -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card border-0 shadow-sm">
            <div class="card-header">
                <h5 class="mb-0"><i class="bi bi-chat-left-quote me-2"></i>Example Questions by Role</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    {% if current_user and current_user.is_authenticated and current_user.role in ['administrator', 'superadmin'] %}
                    <div class="col-md-6">
                        <div class="mb-4">
                            <h6 class="text-primary"><i class="bi bi-shield-check me-2"></i>Administrator Examples</h6>
                            <div class="example-questions">
                                <div class="question-example">
                                    <strong>You:</strong> "How do I add multiple users at once?"<br>
                                    <strong>Susan:</strong> "Use Bulk Operations! Go to Navigation â†’ Bulk Operations â†’ Upload Users..."
                                </div>
                                <div class="question-example">
                                    <strong>You:</strong> "Show me game management"<br>
                                    <strong>Susan:</strong> "Game management is in Games â†’ Manage Games. You can create, edit, and assign officials..."
                                </div>
                                <div class="question-example">
                                    <strong>You:</strong> "Where are the financial reports?"<br>
                                    <strong>Susan:</strong> "Access Reports â†’ Financial to see league earnings, fees, and payment tracking..."
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    
                    {% elif current_user and current_user.is_authenticated and current_user.role == 'assigner' %}
                    <div class="col-md-6">
                        <div class="mb-4">
                            <h6 class="text-info"><i class="bi bi-person-check me-2"></i>Assigner Examples</h6>
                            <div class="example-questions">
                                <div class="question-example">
                                    <strong>You:</strong> "How do I assign officials to a game?"<br>
                                    <strong>Susan:</strong> "Go to Games â†’ Manage Games, find your game, click 'Assign Officials'..."
                                </div>
                                <div class="question-example">
                                    <strong>You:</strong> "Check for conflicts"<br>
                                    <strong>Susan:</strong> "The system automatically checks for time conflicts, location conflicts..."
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    
                    {% elif current_user and current_user.is_authenticated and current_user.role == 'official' %}
                    <div class="col-md-6">
                        <div class="mb-4">
                            <h6 class="text-success"><i class="bi bi-person me-2"></i>Official Examples</h6>
                            <div class="example-questions">
                                <div class="question-example">
                                    <strong>You:</strong> "Show me my next games"<br>
                                    <strong>Susan:</strong> "Go to My Assignments to see your upcoming games with dates, times..."
                                </div>
                                <div class="question-example">
                                    <strong>You:</strong> "How do I set availability?"<br>
                                    <strong>Susan:</strong> "Use My Availability to block times when you can't work games..."
                                </div>
                                <div class="question-example">
                                    <strong>You:</strong> "Check my earnings"<br>
                                    <strong>Susan:</strong> "View Reports â†’ My Earnings to see games worked and fees earned..."
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    
                    <div class="col-md-6">
                        <div class="mb-4">
                            <h6 class="text-secondary"><i class="bi bi-question-circle me-2"></i>General Examples</h6>
                            <div class="example-questions">
                                <div class="question-example">
                                    <strong>You:</strong> "I'm lost, where am I?"<br>
                                    <strong>Susan:</strong> "You're on the dashboard! Here's what you can access based on your role..."
                                </div>
                                <div class="question-example">
                                    <strong>You:</strong> "Something is broken"<br>
                                    <strong>Susan:</strong> "Let me help! Try refreshing the page, check your internet connection..."
                                </div>
                                <div class="question-example">
                                    <strong>You:</strong> "Help"<br>
                                    <strong>Susan:</strong> "I can help you with navigation, how-to guides, troubleshooting..."
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Quick Access -->
<div class="row">
    <div class="col-12">
        <div class="card border-0 shadow-sm bg-primary text-white">
            <div class="card-body text-center">
                <h4><i class="bi bi-chat-heart me-2"></i>Ready to Chat?</h4>
                <p class="mb-3">Susan is always available to help you navigate and use the Sports Scheduler system effectively.</p>
                <button id="openChatFromHelp" class="btn btn-light btn-lg">
                    <i class="bi bi-chat-square-dots me-2"></i>Start Chatting with Susan
                </button>
            </div>
        </div>
    </div>
</div>

<style>
.chat-avatar-large {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, #007bff, #0056b3);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 32px;
    margin: 0 auto;
}

.example-questions {
    background: #f8f9fa;
    border-radius: 8px;
    padding: 15px;
}

.question-example {
    margin-bottom: 15px;
    padding-bottom: 15px;
    border-bottom: 1px solid #e9ecef;
    font-size: 14px;
    line-height: 1.6;
}

.question-example:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
}

.question-example strong {
    display: inline-block;
    margin-bottom: 3px;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Open chat when demo buttons are clicked
    document.getElementById('openChatDemo')?.addEventListener('click', function() {
        // Trigger chat widget if it exists
        const chatToggle = document.getElementById('chatToggle');
        if (chatToggle) {
            chatToggle.click();
        }
    });
    
    document.getElementById('openChatFromHelp')?.addEventListener('click', function() {
        // Trigger chat widget if it exists
        const chatToggle = document.getElementById('chatToggle');
        if (chatToggle) {
            chatToggle.click();
            // Pre-fill with a help message
            setTimeout(() => {
                const chatInput = document.getElementById('chatInput');
                if (chatInput) {
                    chatInput.value = 'Help me get started';
                    chatInput.focus();
                }
            }, 500);
        }
    });
});
</script>
{% endblock %}